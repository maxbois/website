
 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="/main.css">
    <script src="https://kit.fontawesome.com/4149d18f96.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js" integrity="sha512-1/RvZTcCDEUjY/CypiMz+iqqtaoQfAITmNSJY17Myp4Ms5mdxPS5UV7iOfdZoxcGhzFbOm6sntTKJppjvuhg4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="/"></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link active" aria-current="page" href="/index.html">Home</a>
              <a class="nav-link" href="/admin.html">Admin</a>
              <a class="nav-link" href="/signin.html">Sign In</a>
              <a class="nav-link" href="/signup.html">Sign Up</a>
            </div>
          </div>
        </div>
      </nav>
    <div class="container">
        <div class="form-box">
            <h1 id="title">Sign In</h1>
            <form action="">
                
                <div class="input-field">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email"  placeholder="Email"  id="inemail" required>
                </div>
                <div class="input-field">
                    <i class="fa-solid fa-key" ></i>
                    <input type="password"  placeholder="Password" id="inpassword" required>
                </div>
                <div  class="input-field">
                <label for="role" id="role">Select The Role:</label>

                 <select class="input-field" >
                   <option value="User" id="user" >User</option>
                   <option value="Admin" id="admin" >Admin</option>
                   
                 </select>
                
                </div>
                <div class="btn">
                  
                    <button type="button" id="signin"  onclick="validate()" method='POST'> SignIn</button>
                     
                </div>
                  <a href="/forgot.html">Forgot Password</a>
                
            </form>

        </div>
    </div>
 <script>
            
//  function auth() {
//     var email = document.getElementById("email").value;
//     var password = document.getElementById("password").value;

//     if (email ===  && password === password.value) {
//         // const relocate = document.getElementById("locate");
//         // const result = relocate.href;
//          window.location.replace("./index.html");

//     } else {
//         alert("Invalid information");
//         return;
//     }

// }

// async function validateSignIn() {
        //     const Email = document.getElementById("inemail").value;
        //     const Password = document.getElementById("inpassword").value;

        //     if (Email === ) {
        //        ;

        //         try {
        //             const response = await fetch("https://64cd007abb31a268409a3d5f.mockapi.io/userdata/signin", {
        //                 method: "POST",
        //                 headers: {
        //                     "Content-Type": "application/json"
        //                 },
        //                 body: JSON.stringify(requestData)
        //             });

        //             if (response.ok) {
        //                 const data = await response.json();

        //                 const messageElement = document.getElementById("message");
        //                 messageElement.innerText = data.message;
        //                 messageElement.style.color = "green";
        //                 messageElement.style.display = "block";
        //             } else {
        //                 const data = await response.json();

        //                 const messageElement = document.getElementById("message");
        //                 messageElement.innerText = data.message;
        //                 messageElement.style.color = "red";
        //                 messageElement.style.display = "block";
        //             }
        //         } catch (error) {
        //             console.error("Error:", error);
        //         }
        //     }
        // }

    //     var storedEmail = null;
    //     var storedPassword= null;
    
    //     storedEmail = document.getElementById("email").value;
        
    //     storedPassword = document.getElementById('password').value;
  

    // function validate() {
    //     const signinEmail = document.getElementById("inemail").value;
    //     const signinpassword = document.getElementById('inpassword').value;

    //     if (storedEmail === signinEmail && storedPassword === signinpassword) {
    //         window.location.replace('/index.html')
    //     } else {
    //         alert("Invalid email or password for signin");
    //     }
    // }
   async function validate() {
            const signinEmail = document.getElementById("inemail").value;
            const signinPassword = document.getElementById('inpassword').value;
            // Fetch user data from the mock API
            await fetch('https://64cd007abb31a268409a3d5f.mockapi.io/userdata')
            .then(response => response.json())
            .then(data => {
                const foundUser = data.filter(user => {
                 if( user.email === signinEmail && user.password === signinPassword)
                 {
                  window.location.replace('/index.html');
                 }
                 else if (user.email === signinEmail && user.password === signinPassword && user.role === admin)
                 {
                   window.location.replace('/admin.html');
                 }
                 else 
                {
                    alert("Invalid email or password");
                }


                });
                
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
  
</script>
</body>
</html>



